<template>
    <lightning-card>
        <div class="slds-grid slds-grid_align-start slds-p-around_medium" style="margin-top: -30px;">
        <lightning-combobox 
                name="monthFilter" 
                value={selectedMonth}
                options={monthOptions}
                onchange={handleMonthChange}
                style="width:200px;"
                label-hidden>
            </lightning-combobox>
        </div>
        <hr style="margin: 0px;margin-top:-3px;"/>
        <div if:true={spinner}>
            <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
        </div>
        <table style="margin-left: 10px; margin-top: 10px;margin-bottom:10px;">
            <tr style="font-weight: bold;">
                <td>User Target <br/>(In Lacs)</td> 
                <td>Scheduled to Print<br/>(In Lacs)</td>
                <td>Published <br/>(In Lacs)</td>
                <td>Committed Pipline <br/>(In Lacs)</td>
                <td>%Committed <br/> Achievement</td>
                <td>Invoice Billed<br/>(In Lacs)</td>
                <td>%Fixed <br/> Achievement</td>
                <td>Fixed Incentive<br/> Payout %</td>
                <td>Projected Incentive<br/> Payout %</td>
            </tr>
            <template for:each={userWiseRevenue} for:item="item">
                <tr key={item}>
                    <td>{item.roleTarget} </td>
                    <td>{item.scheduledtoPrint} </td>
                    <td>{item.published} </td>
                    <td>{item.committedPipline} </td>
                    <td>{item.preCommittedAchievement}</td>
                    <td>{item.invoiceBilled} </td>
                    <td>{item.perFixedAchievement}</td>
                    <td>{item.fixedIncentivePayout}</td>
                    <td>{item.projectedIncentivePayout}</td>
                </tr>
            </template>
        </table>
        <div style="height: 48vh;">
        <lightning-datatable
            key-field="id"
            data={roleWiseRevenue}
            columns={tableColumns}
            hide-checkbox-column="true">
        </lightning-datatable>
        </div>
    </lightning-card>
</template>